var mongoose = require('mongoose');
var user = mongoose.model('user');

module.exports = function(req, res){

	user.findById(req.params.id, function(err, resToUpdate) {
		if(resToUpdate == null)
			return res.status(200).jsonp({error:204,message : 'no found result'});
		
		resToUpdate.user =  req.body.user;
		resToUpdate.name =  req.body.name;
		resToUpdate.surname =  req.body.surname;
		resToUpdate.company =  req.body.company;
		resToUpdate.password =  req.body.password;
		resToUpdate.active = req.body.active;

		resToUpdate.save(function(err) {
		if(err) return res.status(500).send(err.message);
			res.status(200).jsonp(resToUpdate);
		});
	});
}
