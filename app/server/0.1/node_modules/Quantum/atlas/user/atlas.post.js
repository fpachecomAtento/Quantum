var colors = require('colors');
var mongoose = require('mongoose');
var user = mongoose.model('user');

module.exports = function(req, res){
	

	var newUser = new user({
			user : req.body.user,
			name : req.body.name,
			email : req.body.email,
			surname : req.body.surname,
			company : req.body.company,
			password : req.body.password,
			status : req.body.status

		});

		newUser.save(function(err, resToPost) {
			if(err){
				colors.red(err.message);
				return res.status(200).jsonp({
					error : 500,
					name : err.name,
					message : err.errors
				});
			}
			console.log(colors.inverse.green('>> Nuevo Usuario '+resToPost._id+' <<'));
			res.status(200).jsonp(resToPost);
		});


}
