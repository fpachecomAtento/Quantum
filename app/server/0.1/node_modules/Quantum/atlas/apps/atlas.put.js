var mongoose = require('mongoose');
var apps = mongoose.model('apps');

module.exports = function(req, res){

	apps.findById(req.params.id, function(err, resToUpdate) {
		if(resToUpdate == null)
			return res.status(200).jsonp({error:204,message : 'no found result'});

			//resToUpdate.user = req.body.user;
			resToUpdate.versionApp = req.body.versionApp;
			resToUpdate.theme = req.body.theme;
			resToUpdate.title = req.body.title;
				resToUpdate.logo.logoType = req.body.logoType;
				resToUpdate.logo.logSrc = req.body.logSrc	;
				resToUpdate.messages.welcome = req.body.messageWelcome;
				resToUpdate.messages.messageWait = req.body.messageWait;
			resToUpdate.crm = req.body.crm;
		


		resToUpdate.save(function(err) {
		if(err) return res.status(500).send(err.message);
			res.status(200).jsonp(resToUpdate);
		});
	});
}
