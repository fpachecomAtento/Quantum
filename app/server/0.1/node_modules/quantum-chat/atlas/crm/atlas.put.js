var mongoose = require('mongoose');
var crm = mongoose.model('crm');

module.exports = function(req, res){

	crm.findById(req.params.id, function(err, resToUpdate) {
		if(resToUpdate == null)
			return res.status(200).jsonp({error:204,message : 'no found result'});

		resToUpdate.name = req.body.name;
		resToUpdate.message = req.body.message;
		resToUpdate.active = req.body.active;

		resToUpdate.save(function(err) {
		if(err) return res.status(500).send(err.message);
			res.status(200).jsonp(resToUpdate);
		});
	});
}
