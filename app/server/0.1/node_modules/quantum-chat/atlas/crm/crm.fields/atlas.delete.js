var colors = require('colors');
var mongoose = require('mongoose');
var crmField = mongoose.model('crmField');

module.exports = function(req, res){
	crmField.findById(req.params.id,function(err, resToDelete){
		if(resToDelete == null)
			return res.status(200).jsonp({error:204,message : 'no found result'});

		resToDelete.remove(function(err){
			if(err) return res.status(500).send(err.message);

			console.log(colors.inverse.red('>> Se elimino un campo '+req.params.id+' <<'));
			res.status(200).jsonp({
				idRemove : req.params.id
			});
		});
	});
}
