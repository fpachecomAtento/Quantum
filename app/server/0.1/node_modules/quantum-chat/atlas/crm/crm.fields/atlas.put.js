var mongoose = require('mongoose');
var crmField = mongoose.model('crmField');

module.exports = function(req, res){

	crmField.findById(req.params.id, function(err, resToUpdate) {
		if(resToUpdate == null)
			return res.status(200).jsonp({error:204,message : 'no found result'});

		resToUpdate.name = req.body.name;
		resToUpdate.type = req.body.type;
		resToUpdate.label = req.body.label;
		resToUpdate.labelError = req.body.labelError;
		resToUpdate.placeHolder = req.body.placeHolder;
		resToUpdate.require = req.body.require;
		resToUpdate.length.lengthMax = req.body.lengthMax;
		resToUpdate.length.lengthMin = req.body.lengthMin;
		resToUpdate.both = req.body.both;

		resToUpdate.save(function(err) {
		if(err) return res.status(500).send(err.message);
			res.status(200).jsonp(resToUpdate);
		});
	});
}
