var colors = require('colors');
var mongoose = require('mongoose');
var queues = mongoose.model('queues');

module.exports = function(req, res){
	

	var newQueue = new queues({
			user : req.body.user,
			company : req.body.company,
			icon : req.body.icon,
			name : req.body.name,
			caption : req.body.caption
		});

		newQueue.save(function(err, resToPost) {
			if(err){
				colors.red(err.message);
				return res.status(200).jsonp({
					error : 500,
					name : err.name,
					message : err.errors
				});
			}
			console.log(colors.inverse.green('>> Nueva Queue '+resToPost._id+' <<'));
			res.status(200).jsonp(resToPost);
		});


}
